<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>M·ªôt s·ªë l·ª±a ch·ªçn m√°y ·∫£nh t·∫ßm gi√°</title>

    <!-- SEO Meta Tags -->
    <meta
      name="description"
      content="C√¥ng c·ª• t∆∞ v·∫•n t∆∞∆°ng t√°c gi√∫p b·∫°n ch·ªçn combo m√°y ·∫£nh mirrorless v√† ·ªëng k√≠nh t·ªët nh·∫•t trong ng√¢n s√°ch 33 tri·ªáu ƒë·ªìng t·∫°i Vi·ªát Nam. So s√°nh c√°c g√≥i t·ª´ Sony, Canon (bao g·ªìm c·∫£ R50 V m·ªõi), Fujifilm, Nikon."
    />
    <meta
      name="keywords"
      content="t∆∞ v·∫•n m√°y ·∫£nh, ch·ªçn m√°y ·∫£nh, m√°y ·∫£nh 33 tri·ªáu, sony a6400, canon r50, canon r50 v, fujifilm x-t30 ii, canon rp, nikon z5, canon r8, sony a7c, m√°y ·∫£nh mirrorless, ·ªëng k√≠nh, nhi·∫øp ·∫£nh, Vi·ªát Nam"
    />

    <!-- Open Graph / Facebook Meta Tags -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="" />
    <meta
      property="og:title"
      content="M·ªôt s·ªë l·ª±a ch·ªçn m√°y ·∫£nh t·∫ßm gi√°"
    />
    <meta
      property="og:description"
      content="Kh√°m ph√° c√°c g√≥i k·∫øt h·ª£p m√°y ·∫£nh & ·ªëng k√≠nh t·ªëi ∆∞u nh·∫•t cho nhu c·∫ßu du l·ªãch, ch√¢n dung, video. So s√°nh v√† ƒë∆∞a ra l·ª±a ch·ªçn th√¥ng minh v·ªõi d·ªØ li·ªáu m·ªõi nh·∫•t v·ªÅ Canon R50 V."
    />
    <meta
      property="og:image"
      content="https://res.cloudinary.com/katyperrycbt/image/upload/v1749559806/f8jtihjvyvdacr4vgm8q.jpg"
    />

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="" />
    <meta
      name="twitter:title"
      content="M·ªôt s·ªë l·ª±a ch·ªçn m√°y ·∫£nh t·∫ßm gi√°"
    />
    <meta
      name="twitter:description"
      content="Kh√°m ph√° c√°c g√≥i k·∫øt h·ª£p m√°y ·∫£nh & ·ªëng k√≠nh t·ªëi ∆∞u nh·∫•t cho nhu c·∫ßu du l·ªãch, ch√¢n dung, video. So s√°nh v√† ƒë∆∞a ra l·ª±a ch·ªçn th√¥ng minh v·ªõi d·ªØ li·ªáu m·ªõi nh·∫•t v·ªÅ Canon R50 V."
    />
    <meta
      name="twitter:image"
      content="https://res.cloudinary.com/katyperrycbt/image/upload/v1749559806/f8jtihjvyvdacr4vgm8q.jpg"
    />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Chosen Palette: Warm Neutral with Deep Blue accent -->
    <!-- Application Structure Plan: The application is designed as an interactive "Combo Builder" tool. Instead of a static report, it allows users to filter camera + lens packages based on their primary use case (e.g., Travel, Portrait, Video). Results are displayed as interactive cards. A key feature is the dynamic bar chart for budget comparison. This user-centric, task-oriented structure simplifies decision-making and makes data consumption more engaging than a linear document. Details are available on-demand in a modal to keep the main interface clean. -->
    <!-- Visualization & Content Choices: Report Table -> Interactive Cards (HTML/CSS) for better visual hierarchy and mobile experience. User Need -> Filter Buttons (JS) to guide users. Budget Data -> Dynamic Bar Chart (Chart.js/Canvas) for intuitive comparison. Detailed Analysis -> Modal Window (JS) to provide deep-dives without cluttering the UI. Core product info is stored in a structured JS array, enabling dynamic filtering and rendering. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
      body {
        font-family: "Be Vietnam Pro", sans-serif;
        background-color: #f8f9fa;
      }
      .chart-container {
        position: relative;
        width: 100%;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
        height: 400px;
        max-height: 50vh;
      }
      .filter-btn {
        transition: all 0.3s ease;
      }
      .filter-btn.active {
        background-color: #1e3a8a;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1),
          0 2px 4px -2px rgb(0 0 0 / 0.1);
      }
      .card-enter {
        animation: card-enter 0.5s ease-out;
      }
      @keyframes card-enter {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .modal {
        transition: opacity 0.3s ease, visibility 0.3s ease;
      }
    </style>
  </head>
  <body class="text-gray-800">
    <div id="app" class="container mx-auto p-4 md:p-8">
      <header class="text-center mb-8 md:mb-12">
        <h1 class="text-3xl md:text-5xl font-bold text-gray-900 mb-2">
          C√¥ng C·ª• Ch·ªçn M√°y ·∫¢nh
        </h1>
        <p class="text-lg md:text-xl text-gray-600">
          T√¨m combo m√°y ·∫£nh & ·ªëng k√≠nh t·ªët nh·∫•t trong ng√¢n s√°ch 33 tri·ªáu ƒë·ªìng
        </p>
      </header>

      <main>
        <section id="interactive-tool" class="mb-12">
          <div class="bg-white p-6 rounded-xl shadow-lg">
            <h2 class="text-xl md:text-2xl font-bold mb-4 text-center">
              1. Nhu c·∫ßu ch√≠nh c·ªßa b·∫°n l√† g√¨?
            </h2>
            <div
              id="filter-container"
              class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 md:gap-4 mb-8"
            >
              <button
                data-filter="all"
                class="filter-btn active w-full bg-gray-200 text-gray-700 font-semibold py-3 px-4 rounded-lg hover:bg-blue-800 hover:text-white"
              >
                T·∫•t C·∫£
              </button>
              <button
                data-filter="du-lich"
                class="filter-btn w-full bg-gray-200 text-gray-700 font-semibold py-3 px-4 rounded-lg hover:bg-blue-800 hover:text-white"
              >
                ‚úàÔ∏è Du L·ªãch
              </button>
              <button
                data-filter="chan-dung"
                class="filter-btn w-full bg-gray-200 text-gray-700 font-semibold py-3 px-4 rounded-lg hover:bg-blue-800 hover:text-white"
              >
                üßë Ch√¢n Dung
              </button>
              <button
                data-filter="video"
                class="filter-btn w-full bg-gray-200 text-gray-700 font-semibold py-3 px-4 rounded-lg hover:bg-blue-800 hover:text-white"
              >
                üé¨ Quay Video
              </button>
              <button
                data-filter="full-frame"
                class="filter-btn w-full bg-gray-200 text-gray-700 font-semibold py-3 px-4 rounded-lg hover:bg-blue-800 hover:text-white"
              >
                üåü Full-Frame
              </button>
            </div>

            <h2 class="text-xl md:text-2xl font-bold mb-4 text-center">
              2. C√°c g√≥i k·∫øt h·ª£p ƒë·ªÅ xu·∫•t
            </h2>
            <p id="results-count" class="text-center text-gray-600 mb-6"></p>
            <div
              id="results-grid"
              class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
            ></div>
          </div>
        </section>

        <section id="comparison-section" class="mb-12">
          <div class="bg-white p-6 rounded-xl shadow-lg">
            <h2 class="text-xl md:text-2xl font-bold mb-2 text-center">
              3. So S√°nh Ng√¢n S√°ch
            </h2>
            <p class="text-center text-gray-600 mb-6">
              Ch·ªçn c√°c g√≥i t·ª´ danh s√°ch tr√™n ƒë·ªÉ so s√°nh chi ph√≠.
            </p>
            <div class="chart-container">
              <canvas id="budgetChart"></canvas>
            </div>
          </div>
        </section>

        <section id="knowledge-base" class="mb-12">
          <div class="bg-white p-6 rounded-xl shadow-lg">
            <h2 class="text-xl md:text-2xl font-bold mb-4 text-center">
              Ki·∫øn Th·ª©c C∆° B·∫£n
            </h2>
            <div class="space-y-4">
              <div class="border border-gray-200 rounded-lg">
                <button
                  class="accordion-toggle w-full flex justify-between items-center p-4 font-semibold text-left"
                >
                  C·∫£m bi·∫øn APS-C v√† Full-Frame
                  <span class="transform transition-transform duration-300"
                    >‚ñº</span
                  >
                </button>
                <div
                  class="accordion-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
                >
                  <div class="p-4 border-t border-gray-200">
                    <h4 class="font-bold">C·∫£m bi·∫øn APS-C:</h4>
                    <p class="text-gray-700">
                      K√≠ch th∆∞·ªõc nh·ªè h∆°n, gi√∫p m√°y v√† ·ªëng k√≠nh nh·ªè g·ªçn, gi√° d·ªÖ
                      ti·∫øp c·∫≠n h∆°n. H·ªá s·ªë crop (1.5x-1.6x) l√†m thay ƒë·ªïi ti√™u c·ª±
                      hi·ªáu d·ª•ng. Ch·∫•t l∆∞·ª£ng ·∫£nh r·∫•t t·ªët, ƒë·∫∑c bi·ªát ·ªü c√°c m·∫´u ƒë·ªùi
                      m·ªõi.
                    </p>
                    <h4 class="font-bold mt-2">C·∫£m bi·∫øn Full-Frame:</h4>
                    <p class="text-gray-700">
                      K√≠ch th∆∞·ªõc l·ªõn h∆°n, ch·ª•p thi·∫øu s√°ng t·ªët h∆°n, d·∫£i t∆∞∆°ng
                      ph·∫£n ƒë·ªông r·ªông, x√≥a ph√¥ng t·ªët h∆°n. M√°y v√† ·ªëng k√≠nh th∆∞·ªùng
                      ƒë·∫Øt v√† l·ªõn h∆°n.
                    </p>
                  </div>
                </div>
              </div>
              <div class="border border-gray-200 rounded-lg">
                <button
                  class="accordion-toggle w-full flex justify-between items-center p-4 font-semibold text-left"
                >
                  C√°c Lo·∫°i ·ªêng K√≠nh Ph·ªï Bi·∫øn
                  <span class="transform transition-transform duration-300"
                    >‚ñº</span
                  >
                </button>
                <div
                  class="accordion-content max-h-0 overflow-hidden transition-all duration-500 ease-in-out"
                >
                  <div class="p-4 border-t border-gray-200">
                    <h4 class="font-bold">·ªêng k√≠nh Kit:</h4>
                    <p class="text-gray-700">
                      ƒêi k√®m th√¢n m√°y, ƒëa d·ª•ng, l·ª±a ch·ªçn t·ªët ƒë·ªÉ b·∫Øt ƒë·∫ßu nh∆∞ng
                      ch·∫•t l∆∞·ª£ng quang h·ªçc v√† kh·∫©u ƒë·ªô ·ªü m·ª©c c∆° b·∫£n.
                    </p>
                    <h4 class="font-bold mt-2">
                      ·ªêng k√≠nh Prime (m·ªôt ti√™u c·ª±):
                    </h4>
                    <p class="text-gray-700">
                      Ti√™u c·ª± c·ªë ƒë·ªãnh, kh·∫©u ƒë·ªô l·ªõn (f/1.8, f/1.4), ·∫£nh s·∫Øc n√©t
                      v∆∞·ª£t tr·ªôi, ch·ª•p thi·∫øu s√°ng t·ªët, x√≥a ph√¥ng ƒë·∫πp. L√Ω t∆∞·ªüng
                      cho ch√¢n dung, ƒë∆∞·ªùng ph·ªë.
                    </p>
                    <h4 class="font-bold mt-2">·ªêng k√≠nh Zoom:</h4>
                    <p class="text-gray-700">
                      D·∫£i ti√™u c·ª± thay ƒë·ªïi ƒë∆∞·ª£c, linh ho·∫°t cao. ·ªêng k√≠nh zoom
                      cao c·∫•p c√≥ th·ªÉ cho ch·∫•t l∆∞·ª£ng t·ªët nh∆∞ng th∆∞·ªùng ƒë·∫Øt v√†
                      n·∫∑ng.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>

      <footer class="py-8 mt-12 border-t border-gray-200">
        <div class="container mx-auto px-4 text-center">
          <div
            class="max-w-3xl mx-auto mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg"
          >
            <h4 class="font-bold text-sm text-blue-800">
              L∆∞u √Ω v·ªÅ Ngu·ªìn g·ªëc N·ªôi dung
            </h4>
            <p class="text-xs mt-2">
              Trang web n√†y ƒë∆∞·ª£c t·∫°o ra b·ªüi m·ªôt AI. N·ªôi dung ƒë∆∞·ª£c t·ªïng h·ª£p, ph√¢n
              t√≠ch v√† tr√¨nh b√†y m·ªôt c√°ch tr·ª±c quan d·ª±a tr√™n c√°c ngu·ªìn b√°o c√°o k·ªπ
              thu·∫≠t c√¥ng khai. Th√¥ng tin ƒë∆∞·ª£c cung c·∫•p nh·∫±m m·ª•c ƒë√≠ch tham kh·∫£o
              v√† c√≥ th·ªÉ kh√¥ng ph·∫£n √°nh m·ªçi chi ti·∫øt chuy√™n s√¢u nh·∫•t.
            </p>
          </div>
          <a
            href="https://thucde.dev"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center space-x-2 text-gray-500 hover:text-blue-600 transition-colors"
          >
            <span
              class="w-6 h-6 flex items-center justify-center rounded-md font-bold text-sm"
            >
              <img
                src="https://thucde.dev/logo/thucdedev.png"
                alt="Thucde.dev Logo"
                class="w-6 h-6"
              />
            </span>
            <span class="font-semibold">M·ªôt s·∫£n ph·∫©m c·ªßa Thucde.dev</span>
          </a>
        </div>
      </footer>
    </div>

    <div
      id="details-modal"
      class="modal invisible opacity-0 fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50"
    >
      <div
        class="bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"
        id="modal-content"
      ></div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // This is the main budget constraint for filtering and display.
        const budget = 33000000;

        // The core data for the application. Each object represents a camera combo.
        // It includes technical specs, pricing, and tags for filtering.
        // ** DATA HAS BEEN UPDATED WITH NEW CANON R50 V COMBOS **
        const comboData = [
          {
            id: 1,
            body: "Sony a6400",
            lens: "Sony E PZ 16-50mm f/3.5-5.6 OSS + Sony E 50mm f/1.8 OSS",
            price: 26850000,
            tags: ["du-lich", "chan-dung", "video", "sony", "aps-c"],
            strength:
              "AF si√™u nhanh, nh·ªè g·ªçn, kit ƒëa d·ª•ng, prime 50mm f/1.8 ch·ª•p ch√¢n dung x√≥a ph√¥ng t·ªët.",
            purpose: "Du l·ªãch, ƒë·ªùi th∆∞·ªùng, ch√¢n dung, vlog c∆° b·∫£n.",
          },
          {
            id: 2,
            body: "Sony a6400",
            lens: "Sigma 30mm f/1.4 DC DN",
            price: 26800000,
            tags: ["chan-dung", "sony", "aps-c"],
            strength:
              "AF si√™u nhanh, ·ªëng k√≠nh Sigma kh·∫©u l·ªõn f/1.4 cho ch·∫•t l∆∞·ª£ng ·∫£nh v∆∞·ª£t tr·ªôi, ch·ª•p thi·∫øu s√°ng t·ªët, x√≥a ph√¥ng ƒë·∫πp.",
            purpose: "ƒê∆∞·ªùng ph·ªë, ch√¢n dung, s·∫£n ph·∫©m, thi·∫øu s√°ng.",
          },
          {
            id: 3,
            body: "Sony a6400",
            lens: "Tamron 17-70mm f/2.8 VC RXD",
            price: 35700000,
            tags: ["du-lich", "chan-dung", "video", "sony", "aps-c"],
            strength:
              "·ªêng k√≠nh zoom ƒëa d·ª•ng kh·∫©u ƒë·ªô f/2.8 to√†n d·∫£i, ch·ªëng rung VC, ch·∫•t l∆∞·ª£ng quang h·ªçc t·ªët. *V∆∞·ª£t nh·∫π ng√¢n s√°ch, c·∫ßn sƒÉn sale.*",
            purpose: "Du l·ªãch, s·ª± ki·ªán, ch√¢n dung, quay video ƒëa nƒÉng.",
          },
          {
            id: 4,
            body: "Canon EOS R50",
            lens: "Canon RF-S 18-45mm IS STM + Canon RF 50mm f/1.8 STM",
            price: 26500000,
            tags: ["du-lich", "chan-dung", "video", "canon", "aps-c"],
            strength:
              "AF hi·ªán ƒë·∫°i, d·ªÖ d√πng, kit nh·ªè g·ªçn, prime 50mm f/1.8 ch·ª•p ch√¢n dung t·ªët, l√Ω t∆∞·ªüng cho ng∆∞·ªùi m·ªõi.",
            purpose:
              "Vlogging, du l·ªãch, ƒë·ªùi th∆∞·ªùng, ch√¢n dung, ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu.",
          },
          {
            id: 5,
            body: "Canon EOS R50",
            lens: "Sigma 30mm f/1.4 DC DN (RF)",
            price: 24550000,
            tags: ["chan-dung", "canon", "aps-c"],
            strength:
              "AF hi·ªán ƒë·∫°i, ·ªëng k√≠nh Sigma f/1.4 ch·∫•t l∆∞·ª£ng cao cho ·∫£nh s·∫Øc n√©t, x√≥a ph√¥ng t·ªët.",
            purpose:
              "ƒê∆∞·ªùng ph·ªë, ch√¢n dung, s·∫£n ph·∫©m, ∆∞u ti√™n ch·∫•t l∆∞·ª£ng ·∫£nh tƒ©nh v·ªõi m√°y Canon nh·ªè g·ªçn.",
          },
          {
            id: 6,
            body: "Fujifilm X-T30 II",
            lens: "XC 15-45mm PZ + XF 35mm f/2 R WR",
            price: 32500000,
            tags: ["du-lich", "chan-dung", "fujifilm", "aps-c"],
            strength:
              "M√†u s·∫Øc Fujifilm ƒë·∫∑c tr∆∞ng, kit nh·ªè g·ªçn, prime XF 35mm f/2 ch·∫•t l∆∞·ª£ng cao, kh√°ng th·ªùi ti·∫øt.",
            purpose:
              "Du l·ªãch, ƒë∆∞·ªùng ph·ªë, ch√¢n dung, ng∆∞·ªùi y√™u th√≠ch m√†u ·∫£nh Fujifilm.",
          },
          {
            id: 7,
            body: "Fujifilm X-T30 II",
            lens: "Viltrox 56mm f/1.4 XF",
            price: 32750000,
            tags: ["chan-dung", "fujifilm", "aps-c"],
            strength:
              "M√†u s·∫Øc Fujifilm, ·ªëng k√≠nh ch√¢n dung Viltrox kh·∫©u l·ªõn f/1.4 cho bokeh ƒë·∫πp, gi√° t·ªët.",
            purpose: "Chuy√™n ch·ª•p ch√¢n dung v·ªõi ch·∫•t ·∫£nh Fujifilm.",
          },
          {
            id: 8,
            body: "Nikon Z50",
            lens: "Nikon Z DX 16-50mm VR + Nikon Z 40mm f/2",
            price: 25750000,
            tags: ["du-lich", "video", "nikon", "aps-c"],
            strength:
              "C·∫ßm n·∫Øm t·ªët, kit ·ªïn ƒë·ªãnh, prime 40mm f/2 nh·ªè g·ªçn, ƒëa d·ª•ng (t∆∞∆°ng ƒë∆∞∆°ng 60mm tr√™n full-frame).",
            purpose:
              "Du l·ªãch, ƒë·ªùi th∆∞·ªùng, vlog, ng∆∞·ªùi d√πng th√≠ch h·ªá sinh th√°i Nikon.",
          },
          {
            id: 9,
            body: "Canon EOS RP",
            lens: "Canon RF 50mm f/1.8 STM",
            price: 26100000,
            tags: ["chan-dung", "full-frame", "canon"],
            strength:
              "Full-frame gi√° t·ªët nh·∫•t, nh·ªè g·ªçn, ·ªëng k√≠nh 50mm f/1.8 ch·∫•t l∆∞·ª£ng t·ªët, l√Ω t∆∞·ªüng ƒë·ªÉ tr·∫£i nghi·ªám full-frame.",
            purpose:
              "Ch√¢n dung, ƒë∆∞·ªùng ph·ªë, ng∆∞·ªùi mu·ªën b·∫Øt ƒë·∫ßu v·ªõi full-frame v·ªõi chi ph√≠ th·∫•p.",
          },
          {
            id: 10,
            body: "Canon EOS RP",
            lens: "Canon RF 35mm f/1.8 IS Macro STM",
            price: 32850000,
            tags: ["du-lich", "chan-dung", "full-frame", "canon"],
            strength:
              "Full-frame gi√° t·ªët, ·ªëng k√≠nh 35mm f/1.8 ƒëa d·ª•ng, c√≥ ch·ªëng rung, kh·∫£ nƒÉng macro 0.5x.",
            purpose:
              "ƒê∆∞·ªùng ph·ªë, ƒë·ªùi th∆∞·ªùng, ch√¢n dung m√¥i tr∆∞·ªùng, macro c∆° b·∫£n.",
          },
          {
            id: 11,
            body: "Nikon Z5",
            lens: "Nikon Z 24-50mm f/4-6.3",
            price: 31600000,
            tags: ["du-lich", "full-frame", "nikon"],
            strength:
              "Full-frame c√≥ IBIS, hai khe th·∫ª, ·ªëng k√≠nh kit nh·ªè g·ªçn, ch·∫•t l∆∞·ª£ng ho√†n thi·ªán t·ªët.",
            purpose:
              "Du l·ªãch, phong c·∫£nh, ng∆∞·ªùi mu·ªën m√°y full-frame Nikon c√≥ IBIS.",
          },
          {
            id: 12,
            body: "Nikon Z5",
            lens: "Nikon Z 40mm f/2",
            price: 33800000,
            tags: ["du-lich", "chan-dung", "full-frame", "nikon"],
            strength:
              "Full-frame c√≥ IBIS, ·ªëng k√≠nh prime 40mm f/2 nh·ªè g·ªçn, ch·∫•t l∆∞·ª£ng t·ªët. *V∆∞·ª£t nh·∫π ng√¢n s√°ch, c·∫ßn sƒÉn sale.*",
            purpose:
              "ƒê∆∞·ªùng ph·ªë, ƒë·ªùi th∆∞·ªùng, du l·ªãch, ∆∞u ti√™n s·ª± nh·ªè g·ªçn v√† IBIS.",
          },
          {
            id: 13,
            body: "Canon EOS R8",
            lens: "Canon RF 24-50mm IS STM",
            price: 31850000,
            tags: ["du-lich", "video", "full-frame", "canon"],
            strength:
              "Full-frame hi·ªán ƒë·∫°i, AF t·ª´ R6II, quay 4K60p kh√¥ng crop, ·ªëng kit nh·ªè g·ªçn ƒëa d·ª•ng.",
            purpose:
              "Ng∆∞·ªùi m·ªõi l√™n full-frame, du l·ªãch, vlog, ∆∞u ti√™n c√¥ng ngh·ªá m·ªõi v√† video.",
          },
          {
            id: 14,
            body: "Canon EOS R8",
            lens: "Canon RF 50mm f/1.8 STM",
            price: 33100000,
            tags: ["chan-dung", "video", "full-frame", "canon"],
            strength:
              "Full-frame hi·ªán ƒë·∫°i, AF m·∫°nh m·∫Ω, ·ªëng prime 50mm f/1.8 ch·∫•t l∆∞·ª£ng cao. *V∆∞·ª£t nh·∫π ng√¢n s√°ch, c·∫ßn sƒÉn sale.*",
            purpose:
              "Ch√¢n dung, ƒë∆∞·ªùng ph·ªë, ∆∞u ti√™n ch·∫•t l∆∞·ª£ng ·∫£nh tƒ©nh v√† hi·ªáu nƒÉng cao.",
          },
          {
            id: 15,
            body: "Sony a7C",
            lens: "Sony FE 28-60mm f/4-5.6",
            price: 33700000,
            tags: ["du-lich", "video", "full-frame", "sony"],
            strength:
              "Full-frame si√™u nh·ªè g·ªçn c√≥ IBIS, kit ƒëa d·ª•ng, l√Ω t∆∞·ªüng cho t√≠nh di ƒë·ªông cao. *V∆∞·ª£t nh·∫π ng√¢n s√°ch, c·∫ßn sƒÉn sale.*",
            purpose:
              "Du l·ªãch, vlog, ng∆∞·ªùi d√πng c·∫ßn m√°y full-frame nh·ªè nh·∫•t c√≥ th·ªÉ.",
          },
          {
            id: 16,
            body: "Sony a7C",
            lens: "Samyang AF 35mm f/2.8 FE",
            price: 33450000,
            tags: ["du-lich", "chan-dung", "full-frame", "sony"],
            strength:
              "Full-frame si√™u nh·ªè g·ªçn c√≥ IBIS, ·ªëng prime 35mm f/2.8 nh·ªè g·ªçn, ƒëa d·ª•ng.",
            purpose:
              "ƒê∆∞·ªùng ph·ªë, du l·ªãch, ∆∞u ti√™n s·ª± nh·ªè g·ªçn t·ªëi ƒëa v√† ch·∫•t l∆∞·ª£ng ·∫£nh t·ª´ prime.",
          },
          // ** NEW DATA FOR CANON R50 V **
          {
            id: 17,
            body: "Canon EOS R50 V",
            lens: "Canon RF-S 18-45mm f/4.5-6.3 IS STM",
            price: 27400000,
            tags: ["video", "du-lich", "canon", "aps-c"],
            strength:
              "Chuy√™n video, AF xu·∫•t s·∫Øc, c√≥ IS, gi√° ph·∫£i chƒÉng, l√Ω t∆∞·ªüng cho ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu v·ªõi R50 V.",
            purpose:
              "Vlog, du l·ªãch, ƒë·ªùi th∆∞·ªùng c∆° b·∫£n, ng∆∞·ªùi m·ªõi l√†m quen v·ªõi quay video ch·∫•t l∆∞·ª£ng cao.",
          },
          {
            id: 18,
            body: "Canon EOS R50 V",
            lens: "Canon RF-S 14-30mm f/4-6.3 IS STM PZ",
            price: 27990000,
            tags: ["video", "canon", "aps-c"],
            strength:
              "G√≥c r·ªông h∆°n cho vlog, Power Zoom (PZ) m∆∞·ª£t m√† cho video, c√≥ IS, thi·∫øt k·∫ø t·ªëi ∆∞u cho R50 V.",
            purpose:
              "Vlog t·ª± quay, quay s·∫£n ph·∫©m, review, du l·ªãch c·∫ßn g√≥c r·ªông, s√°ng t·∫°o n·ªôi dung video.",
          },
          {
            id: 19,
            body: "Canon EOS R50 V",
            lens: "Canon RF 50mm f/1.8 STM",
            price: 30400000,
            tags: ["chan-dung", "video", "canon", "aps-c"],
            strength:
              "Ch·∫•t l∆∞·ª£ng quang h·ªçc t·ªët, kh·∫©u ƒë·ªô l·ªõn f/1.8 x√≥a ph√¥ng, ch·ª•p thi·∫øu s√°ng t·ªët h∆°n. *L∆∞u √Ω: ·ªëng k√≠nh kh√¥ng c√≥ IS*",
            purpose:
              "Ch√¢n dung, ph·ªèng v·∫•n, quay s·∫£n ph·∫©m c·∫ßn x√≥a ph√¥ng, ch·ª•p ·∫£nh tƒ©nh ƒë·∫πp (c·∫ßn gimbal/tripod cho video).",
          },
          {
            id: 20,
            body: "Canon EOS R50 V",
            lens: "Canon RF-S 10-18mm f/4.5-6.3 IS STM",
            price: 30000000,
            tags: ["video", "du-lich", "canon", "aps-c"],
            strength:
              "G√≥c si√™u r·ªông, l√Ω t∆∞·ªüng cho vlog nh√≥m, ki·∫øn tr√∫c, phong c·∫£nh, c√≥ IS, nh·ªè g·ªçn.",
            purpose:
              "Vlog nh√≥m, b·∫•t ƒë·ªông s·∫£n, ki·∫øn tr√∫c, phong c·∫£nh r·ªông, du l·ªãch kh√°m ph√°.",
          },
        ];

        // DOM element references
        const resultsGrid = document.getElementById("results-grid");
        const filterContainer = document.getElementById("filter-container");
        const resultsCountEl = document.getElementById("results-count");
        const modal = document.getElementById("details-modal");
        const modalContent = document.getElementById("modal-content");
        let chart;
        let comparedItems = new Set();

        // Utility function to format numbers as Vietnamese currency
        const formatCurrency = (value) =>
          new Intl.NumberFormat("vi-VN", {
            style: "currency",
            currency: "VND",
          }).format(value);

        // Function to render the product cards based on provided data
        function renderCards(data) {
          resultsGrid.innerHTML = "";
          // Filter out items that are significantly over budget before rendering
          const displayData = data.filter((item) => item.price < budget + 4000000);

          displayData.forEach((item) => {
            const percentage = (item.price / budget) * 100;
            const card = document.createElement("div");
            card.className =
              "card-enter bg-white border border-gray-200 rounded-xl shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex flex-col";
            // Dynamically generate the HTML for each card
            card.innerHTML = `
                        <div class="p-5 flex-grow">
                            <div class="flex justify-between items-start mb-3">
                                <h3 class="text-lg font-bold text-gray-900">${
                                  item.body
                                }</h3>
                                <div class="flex space-x-2">
                                     ${
                                       item.tags.includes("aps-c")
                                         ? '<span class="bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">APS-C</span>'
                                         : ""
                                     }
                                     ${
                                       item.tags.includes("full-frame")
                                         ? '<span class="bg-yellow-100 text-yellow-800 text-xs font-semibold px-2.5 py-0.5 rounded-full">Full-Frame</span>'
                                         : ""
                                     }
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mb-4 h-10">${
                              item.lens
                            }</p>
                            <div class="mb-4">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-sm font-medium text-gray-700">Ng√¢n s√°ch</span>
                                    <span class="text-sm font-medium text-blue-700">${Math.round(
                                      percentage
                                    )}%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2.5">
                                    <div class="${item.price > budget ? 'bg-red-500' : 'bg-blue-600'} h-2.5 rounded-full" style="width: ${Math.min(
                                      percentage,
                                      100
                                    )}%"></div>
                                </div>
                            </div>
                            <p class="text-2xl font-bold text-center ${item.price > budget ? 'text-red-600' : 'text-blue-800'} mb-4">${formatCurrency(
                              item.price
                            )}</p>
                        </div>
                        <div class="p-4 bg-gray-50 border-t border-gray-200 rounded-b-xl grid grid-cols-2 gap-3">
                            <button data-id="${
                              item.id
                            }" class="view-details-btn w-full bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-800 transition-colors">Xem Chi Ti·∫øt</button>
                             <label class="compare-label flex items-center justify-center bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors cursor-pointer">
                                <input type="checkbox" data-id="${
                                  item.id
                                }" class="compare-checkbox mr-2 accent-blue-600"> So S√°nh
                            </label>
                        </div>
                    `;
            resultsGrid.appendChild(card);
          });
          resultsCountEl.textContent = `T√¨m th·∫•y ${displayData.length} k·∫øt qu·∫£ ph√π h·ª£p.`;
        }

        // Function to filter data based on the selected tag
        function filterData(filter) {
          // Update active state of filter buttons
          document
            .querySelectorAll(".filter-btn")
            .forEach((btn) => btn.classList.remove("active"));
          document
            .querySelector(`.filter-btn[data-filter="${filter}"]`)
            .classList.add("active");
          
          // Perform filtering and re-render cards
          if (filter === "all") {
            renderCards(comboData);
          } else {
            const filtered = comboData.filter((item) =>
              item.tags.includes(filter)
            );
            renderCards(filtered);
          }
        }

        // Function to display the details modal for a specific item
        function showModal(id) {
          const item = comboData.find((d) => d.id === id);
          if (!item) return;

          // Populate modal with item details
          modalContent.innerHTML = `
                    <div class="p-6">
                        <div class="flex justify-between items-center border-b pb-3 mb-4">
                            <h2 class="text-2xl font-bold">${item.body}</h2>
                            <button id="close-modal-btn" class="text-gray-500 hover:text-gray-800 text-3xl">&times;</button>
                        </div>
                        <p class="text-gray-700 mb-4"><span class="font-semibold">·ªêng k√≠nh:</span> ${
                          item.lens
                        }</p>
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4">
                             <p class="text-3xl font-bold text-center text-blue-800">${formatCurrency(
                               item.price
                             )}</p>
                        </div>
                        
                        <div class="mb-4">
                            <h4 class="font-bold text-lg mb-2">ƒêi·ªÉm M·∫°nh N·ªïi B·∫≠t</h4>
                            <p class="text-gray-700">${item.strength}</p>
                        </div>
                        <div>
                            <h4 class="font-bold text-lg mb-2">M·ª•c ƒê√≠ch S·ª≠ D·ª•ng Ph√π H·ª£p</h4>
                            <p class="text-gray-700">${item.purpose}</p>
                        </div>
                    </div>
                `;
          // Show the modal and prevent background scrolling
          modal.classList.remove("invisible", "opacity-0");
          document.body.style.overflow = "hidden";

          // Add event listener to the close button inside the modal
          document
            .getElementById("close-modal-btn")
            .addEventListener("click", hideModal);
        }

        // Function to hide the details modal
        function hideModal() {
          modal.classList.add("invisible", "opacity-0");
          document.body.style.overflow = "auto";
        }

        // Function to initialize the comparison chart
        function setupChart() {
          const ctx = document.getElementById("budgetChart").getContext("2d");
          chart = new Chart(ctx, {
            type: "bar",
            data: {
              labels: [],
              datasets: [
                {
                  label: "Chi Ph√≠ G√≥i (VNƒê)",
                  data: [],
                  backgroundColor: "rgba(30, 64, 175, 0.7)",
                  borderColor: "rgba(30, 58, 138, 1)",
                  borderWidth: 1,
                },
                {
                  type: "line",
                  label: "Ng√¢n s√°ch (33M)",
                  data: [],
                  borderColor: "rgba(217, 70, 239, 1)",
                  backgroundColor: "rgba(217, 70, 239, 0.2)",
                  borderWidth: 2,
                  pointRadius: 0,
                  fill: false,
                },
              ],
            },
            options: {
              indexAxis: "y",
              responsive: true,
              maintainAspectRatio: false,
              scales: {
                x: {
                  beginAtZero: true,
                  suggestedMax: budget + 5000000,
                  ticks: {
                    callback: function (value) {
                      if (typeof value === "number" && value >= 0) {
                        return (value / 1000000).toFixed(0) + "M";
                      }
                      return "";
                    },
                  },
                },
              },
              plugins: {
                tooltip: {
                  callbacks: {
                    title: function (tooltipItems) {
                      if (!tooltipItems.length) return "";
                      const index = tooltipItems[0].dataIndex;
                      const selectedData = Array.from(comparedItems)
                        .map((id) =>
                          comboData.find((item) => item.id === parseInt(id))
                        )
                        .filter(Boolean)
                        .sort((a, b) => a.price - b.price);
                      const item = selectedData[index];
                      return item ? `${item.body} + ${item.lens}` : "";
                    },
                    label: function (context) {
                      let label = context.dataset.label || "";
                      if (label) {
                        label += ": ";
                      }
                      if (context.parsed.x !== null) {
                        label += formatCurrency(context.parsed.x);
                      }
                      return label;
                    },
                  },
                },
                legend: {
                  display: true,
                },
              },
            },
          });
        }

        // Function to update the chart with selected items
        function updateChart() {
          const selectedData = Array.from(comparedItems)
            .map((id) => comboData.find((item) => item.id === parseInt(id)))
            .filter(Boolean)
            .sort((a, b) => a.price - b.price);

          chart.data.labels = selectedData.map(
            (item) => `${item.body.substring(0, 12)}...`
          );
          chart.data.datasets[0].data = selectedData.map((item) => item.price);
          chart.data.datasets[1].data = selectedData.map(() => budget);

          chart.update();
        }

        // Event Listeners Setup
        filterContainer.addEventListener("click", function (e) {
          if (e.target.matches(".filter-btn")) {
            filterData(e.target.dataset.filter);
          }
        });

        resultsGrid.addEventListener("click", function (e) {
          if (e.target.matches(".view-details-btn")) {
            showModal(parseInt(e.target.dataset.id));
          }
        });

        resultsGrid.addEventListener("change", function (e) {
          if (e.target.matches(".compare-checkbox")) {
            const id = e.target.dataset.id;
            if (e.target.checked) {
              comparedItems.add(id);
            } else {
              comparedItems.delete(id);
            }
            updateChart();
          }
        });

        modal.addEventListener("click", function (e) {
          if (e.target === modal) {
            hideModal();
          }
        });

        document.querySelectorAll(".accordion-toggle").forEach((button) => {
          button.addEventListener("click", () => {
            const content = button.nextElementSibling;
            const icon = button.querySelector("span");
            if (content.style.maxHeight) {
              content.style.maxHeight = null;
              icon.style.transform = "rotate(0deg)";
            } else {
              content.style.maxHeight = content.scrollHeight + "px";
              icon.style.transform = "rotate(180deg)";
            }
          });
        });

        // Initial setup on page load
        filterData("all");
        setupChart();
        updateChart();
      });
    </script>
  </body>
</html>
